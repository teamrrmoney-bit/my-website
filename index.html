<!-- बाकी सब हेडर, कार्ड्स, डिस्क्लेमर वैसा ही रहेगा -->
<h3>Fill your details to get more info</h3>
<div class="form-container">
  <form id="policyForm">
    <input type="text" id="name" placeholder="Your Name" required>
    <input type="email" id="email" placeholder="Your Email" required>
    <input type="text" id="mobile" placeholder="Your Mobile Number" required>
    <input type="text" id="income" placeholder="Your Income" required>
    <textarea id="purpose" placeholder="Purpose of Insurance" required></textarea>

    <!-- New referral fields -->
    <input type="text" id="refName" placeholder="Friend's Name (Optional)">
    <input type="text" id="refMobile" placeholder="Friend's Mobile (Optional)">

    <button type="submit" class="btn">Submit</button>
    <button type="button" id="recommendBtn" class="btn" style="margin-top:10px;background:linear-gradient(90deg,#007bff,#0056b3)">Recommend & Earn</button>
  </form>
</div>

<script>
  // अपने Apps Script का नया URL यहां डालो 👇
  const scriptURL = "https://script.google.com/macros/s/AKfycbwZ7ma5ExXXrThXD0jSXBB5GxVMy_cNVqTyFRCgr2xFI1FZU0zxqz1nQ7eUNu_HlCpI/exec";

  const form = document.getElementById("policyForm");
  const recommendBtn = document.getElementById("recommendBtn");

  form.addEventListener("submit", e => {
    e.preventDefault();

    const data = {
      name: document.getElementById("name").value,
      email: document.getElementById("email").value,
      mobile: document.getElementById("mobile").value,
      income: document.getElementById("income").value,
      purpose: document.getElementById("purpose").value,
      refName: document.getElementById("referrerName").value,
      refMobile: document.getElementById("referrerMobile").value,
      type: "policy" // Apps Script में टाइप से पहचान सकते हो
    };

    fetch(scriptURL, {method:'POST', body:JSON.stringify(data)})
      .then(res => {
        alert("Thank you! We will contact you soon.");
        form.reset();
      })
      .catch(err => alert("Something went wrong."));
  });

  recommendBtn.addEventListener("click", e => {
    e.preventDefault();

    const data = {
      name: document.getElementById("name").value,
      email: document.getElementById("email").value,
      mobile: document.getElementById("mobile").value,
      income: document.getElementById("income").value,
      purpose: document.getElementById("purpose").value,
      refName: document.getElementById("referrerName").value,
      refMobile: document.getElementById("referrerMobile").value,
      type: "recommend"
    };

    fetch(scriptURL, {method:'POST', body:JSON.stringify(data)})
      .then(res => {
        alert("Referral submitted successfully!");
        form.reset();
      })
      .catch(err => alert("Something went wrong."));
  });
</script>

